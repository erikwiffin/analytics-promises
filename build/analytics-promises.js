//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t){var n=[],r=[];return T(e,function(e){(t(e)?n:r).push(e)}),[n,r]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(e){var t,n;(function(){var e={},r={};t=function(t,n,r){e[t]={deps:n,callback:r}},n=function(t){function h(e){if(e.charAt(0)!==".")return e;var n=e.split("/"),r=t.split("/").slice(0,-1);for(var i=0,s=n.length;i<s;i++){var o=n[i];if(o==="..")r.pop();else{if(o===".")continue;r.push(o)}}return r.join("/")}if(r[t])return r[t];r[t]={};if(!e[t])throw new Error("Could not find module "+t);var i=e[t],s=i.deps,o=i.callback,u=[],a;for(var f=0,l=s.length;f<l;f++)s[f]==="exports"?u.push(a={}):u.push(n(h(s[f])));var c=o.apply(this,u);return r[t]=a||c},n.entries=e})(),t("rsvp/all",["./promise","exports"],function(e,t){var n=e["default"];t["default"]=function(t,r){return n.all(t,r)}}),t("rsvp/all_settled",["./promise","./utils","exports"],function(e,t,n){function o(e){return{state:"fulfilled",value:e}}function u(e){return{state:"rejected",reason:e}}var r=e["default"],i=t.isArray,s=t.isNonThenable;n["default"]=function(t,n){return new r(function(e,n){function c(e){return function(t){p(e,o(t))}}function h(e){return function(t){p(e,u(t))}}function p(t,n){l[t]=n,--a===0&&e(l)}if(!i(t))throw new TypeError("You must pass an array to allSettled.");var a=t.length,f;if(a===0){e([]);return}var l=new Array(a);for(var d=0;d<t.length;d++)f=t[d],s(f)?p(d,o(f)):r.resolve(f).then(c(d),h(d))},n)}}),t("rsvp/asap",["exports"],function(e){function r(){return function(){process.nextTick(u)}}function i(){var e=0,t=new n(u),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function s(){return function(){setTimeout(u,1)}}function u(){for(var e=0;e<o.length;e++){var t=o[e],n=t[0],r=t[1];n(r)}o=[]}e["default"]=function(t,n){var r=o.push([t,n]);r===1&&a()};var t=typeof window!="undefined"?window:{},n=t.MutationObserver||t.WebKitMutationObserver,o=[],a;typeof process!="undefined"&&{}.toString.call(process)==="[object process]"?a=r():n?a=i():a=s()}),t("rsvp/config",["./events","exports"],function(e,t){function i(e,t){if(e==="onerror"){r.on("error",t);return}if(arguments.length!==2)return r[e];r[e]=t}var n=e["default"],r={instrument:!1};n.mixin(r),t.config=r,t.configure=i}),t("rsvp/defer",["./promise","exports"],function(e,t){var n=e["default"];t["default"]=function(t){var r={};return r.promise=new n(function(e,t){r.resolve=e,r.reject=t},t),r}}),t("rsvp/events",["exports"],function(e){var t=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},n=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t};e["default"]={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=undefined,e},on:function(e,r){var i=n(this),s;s=i[e],s||(s=i[e]=[]),t(s,r)===-1&&s.push(r)},off:function(e,r){var i=n(this),s,o;if(!r){i[e]=[];return}s=i[e],o=t(s,r),o!==-1&&s.splice(o,1)},trigger:function(e,t){var r=n(this),i,s,o,u;if(i=r[e])for(var a=0;a<i.length;a++)o=i[a],o(t)}}}),t("rsvp/filter",["./promise","./utils","exports"],function(e,t,n){var r=e["default"],i=t.isFunction;n["default"]=function(t,n,s){return r.all(t,s).then(function(e){if(!i(n))throw new TypeError("You must pass a function as filter's second argument.");var t=e.length,o=new Array(t);for(var u=0;u<t;u++)o[u]=n(e[u]);return r.all(o,s).then(function(n){var r=[];for(var i=0;i<t;i++)n[i]===!0&&r.push(e[i]);return r})})}}),t("rsvp/hash",["./promise","./utils","exports"],function(e,t,n){var r=e["default"],i=t.isNonThenable,s=t.keysOf;n["default"]=function(t,n){return new r(function(e,n){function c(t){return function(n){o[t]=n,--a===0&&e(o)}}function h(e){a=0,n(e)}var o={},u=s(t),a=u.length,f,l;if(a===0){e(o);return}for(var p=0;p<u.length;p++)l=u[p],f=t[l],i(f)?(o[l]=f,--a===0&&e(o)):r.resolve(f).then(c(l),h)})}}),t("rsvp/hash_settled",["./promise","./utils","exports"],function(e,t,n){function o(e){return{state:"fulfilled",value:e}}function u(e){return{state:"rejected",reason:e}}var r=e["default"],i=t.isNonThenable,s=t.keysOf;n["default"]=function(t,n){return new r(function(e,n){function p(e){return function(t){v(e,o(t))}}function d(e){return function(t){v(e,u(t))}}function v(t,n){a[t]=n,--l===0&&e(a)}var a={},f=s(t),l=f.length,c,h;if(l===0){e(a);return}for(var m=0;m<f.length;m++)h=f[m],c=t[h],i(c)?v(h,o(c)):r.resolve(c).then(p(h),d(h))})}}),t("rsvp/instrument",["./config","./utils","exports"],function(e,t,n){var r=e.config,i=t.now;n["default"]=function(t,n,s){try{r.trigger(t,{guid:n._guidKey+n._id,eventName:t,detail:n._detail,childGuid:s&&n._guidKey+s._id,label:n._label,timeStamp:i(),stack:(new Error(n._label)).stack})}catch(o){setTimeout(function(){throw o},0)}}}),t("rsvp/map",["./promise","./utils","exports"],function(e,t,n){var r=e["default"],i=t.isArray,s=t.isFunction;n["default"]=function(t,n,i){return r.all(t,i).then(function(e){if(!s(n))throw new TypeError("You must pass a function as map's second argument.");var t=e.length,o=new Array(t);for(var u=0;u<t;u++)o[u]=n(e[u]);return r.all(o,i)})}}),t("rsvp/node",["./promise","./utils","exports"],function(e,t,n){var r=e["default"],i=t.isArray;n["default"]=function(t,n){function u(){var e;$a_slice(e,arguments);var i;return!s&&!o&&n?(console.warn('Deprecation: RSVP.denodeify() doesn\'t allow setting the "this" binding anymore. Use yourFunction.bind(yourThis) instead.'),i=n):i=this,r.all(e).then(function(e){function u(r,u){function a(){var e;$a_slice(e,arguments);var t=e[0],i=e[1];if(t)u(t);else if(s)r(e.slice(1));else if(o){var a={},f=e.slice(1),l,c;for(c=0;c<n.length;c++)l=n[c],a[l]=f[c];r(a)}else r(i)}e.push(a),t.apply(i,e)}return new r(u)})}var s=n===!0,o=i(n);return u.__proto__=t,u}}),t("rsvp/promise",["./config","./events","./instrument","./utils","./promise/cast","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(e,t,n,r,i,s,o,u,a,f){function x(){}function T(e,t){if(!d(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof T))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._id=S++,this._label=t,this._subscribers=[],l.instrument&&h("created",this),x!==e&&N(e,this)}function N(e,t){function n(e){P(t,e)}function r(e){B(t,e)}try{e(n,r)}catch(i){r(i)}}function O(e,t,n,r){var i=e._subscribers,s=i.length;i[s]=t,i[s+L]=n,i[s+A]=r}function M(e,t){var n,r,i=e._subscribers,s=e._detail;l.instrument&&h(t===L?"fulfilled":"rejected",e);for(var o=0;o<i.length;o+=3)n=i[o],r=i[o+t],_(t,n,r,s);e._subscribers=null}function _(e,t,n,r){var i=d(n),s,o,u,a;if(i)try{s=n(r),u=!0}catch(f){a=!0,o=f}else s=r,u=!0;if(D(t,s))return;i&&u?P(t,s):a?B(t,o):e===L?P(t,s):e===A&&B(t,s)}function D(e,t){var n=null,r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(p(t)){n=t.then;if(d(n))return n.call(t,function(n){if(r)return!0;r=!0,t!==n?P(e,n):H(e,n)},function(t){if(r)return!0;r=!0,B(e,t)},"Settle: "+(e._label||" unknown promise")),!0}}catch(i){return r?!0:(B(e,i),!0)}return!1}function P(e,t){e===t?H(e,t):D(e,t)||H(e,t)}function H(e,t){if(e._state!==C)return;e._state=k,e._detail=t,l.async(j,e)}function B(e,t){if(e._state!==C)return;e._state=k,e._detail=t,l.async(F,e)}function j(e){M(e,e._state=L)}function F(e){e._onerror&&e._onerror(e._detail),M(e,e._state=A)}var l=e.config,c=t["default"],h=n["default"],p=r.objectOrFunction,d=r.isFunction,v=r.now,m=i["default"],g=s["default"],y=o["default"],b=u["default"],w=a["default"],E="rsvp_"+v()+"-",S=0;f["default"]=T,T.cast=m,T.all=g,T.race=y,T.resolve=b,T.reject=w;var C=void 0,k=0,L=1,A=2;T.prototype={constructor:T,_id:undefined,_guidKey:E,_label:undefined,_state:undefined,_detail:undefined,_subscribers:undefined,_onerror:function(e){l.trigger("error",e)},then:function(e,t,n){var r=this;this._onerror=null;var i=new this.constructor(x,n);if(this._state){var s=arguments;l.async(function(){_(r._state,i,s[r._state-1],r._detail)})}else O(this,i,e,t);return l.instrument&&h("chained",r,i),i},"catch":function(e,t){return this.then(null,e,t)},"finally":function(e,t){var n=this.constructor;return this.then(function(t){return n.cast(e()).then(function(){return t})},function(t){return n.cast(e()).then(function(){throw t})},t)}}}),t("rsvp/promise/all",["../utils","exports"],function(e,t){var n=e.isArray,r=e.isNonThenable;t["default"]=function(t,i){var s=this;return new s(function(e,i){function l(t){return function(n){u[t]=n,--o===0&&e(u)}}function c(e){o=0,i(e)}if(!n(t))throw new TypeError("You must pass an array to all.");var o=t.length,u=new Array(o),a,f=!0;if(o===0){e(u);return}for(var h=0;h<t.length;h++)a=t[h],r(a)?(u[h]=a,--o===0&&e(u)):s.resolve(a).then(l(h),c)},i)}}),t("rsvp/promise/cast",["exports"],function(e){e["default"]=function(t,n){var r=this;return t&&typeof t=="object"&&t.constructor===r?t:new r(function(e){e(t)},n)}}),t("rsvp/promise/race",["../utils","exports"],function(e,t){var n=e.isArray,r=e.isFunction,i=e.isNonThenable;t["default"]=function(t,r){var s=this,o;return new s(function(e,r){function a(t){u&&(u=!1,e(t))}function f(e){u&&(u=!1,r(e))}if(!n(t))throw new TypeError("You must pass an array to race.");var u=!0;for(var l=0;l<t.length;l++){o=t[l];if(i(o)){u=!1,e(o);return}s.resolve(o).then(a,f)}},r)}}),t("rsvp/promise/reject",["exports"],function(e){e["default"]=function(t,n){var r=this;return new r(function(e,n){n(t)},n)}}),t("rsvp/promise/resolve",["exports"],function(e){e["default"]=function(t,n){var r=this;return t&&typeof t=="object"&&t.constructor===r?t:new r(function(e){e(t)},n)}}),t("rsvp/race",["./promise","exports"],function(e,t){var n=e["default"];t["default"]=function(t,r){return n.race(t,r)}}),t("rsvp/reject",["./promise","exports"],function(e,t){var n=e["default"];t["default"]=function(t,r){return n.reject(t,r)}}),t("rsvp/resolve",["./promise","exports"],function(e,t){var n=e["default"];t["default"]=function(t,r){return n.resolve(t,r)}}),t("rsvp/rethrow",["exports"],function(e){e["default"]=function(t){throw setTimeout(function(){throw t}),t}}),t("rsvp/utils",["exports"],function(e){function t(e){return typeof e=="function"||typeof e=="object"&&e!==null}function n(e){return typeof e=="function"}function r(e){return!t(e)}e.objectOrFunction=t,e.isFunction=n,e.isNonThenable=r;var i;Array.isArray?i=Array.isArray:i=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var s=i;e.isArray=s;var o=Date.now||function(){return(new Date).getTime()};e.now=o;var u=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.keysOf=u}),t("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all_settled","./rsvp/race","./rsvp/hash","./rsvp/hash_settled","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","./rsvp/asap","exports"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){function P(e,t){k.async(e,t)}function H(){k.on.apply(k,arguments)}function B(){k.off.apply(k,arguments)}var g=e["default"],y=t["default"],b=n["default"],w=r["default"],E=i["default"],S=s["default"],x=o["default"],T=u["default"],N=a["default"],C=f["default"],k=l.config,L=l.configure,A=c["default"],O=h["default"],M=p["default"],_=d["default"],D=v["default"];k.async=D;if(typeof window!="undefined"&&typeof window.__PROMISE_INSTRUMENTATION__=="object"){var j=window.__PROMISE_INSTRUMENTATION__;L("instrument",!0);for(var F in j)j.hasOwnProperty(F)&&H(F,j[F])}m.Promise=g,m.EventTarget=y,m.all=w,m.allSettled=E,m.race=S,m.hash=x,m.hashSettled=T,m.rethrow=N,m.defer=C,m.denodeify=b,m.configure=L,m.on=H,m.off=B,m.resolve=O,m.reject=M,m.async=P,m.map=A,m.filter=_}),e.RSVP=n("rsvp")}(window),require(["underscore","rsvp"],function(e,t){console.log(e,t)}),define("analytics-promises",function(){});